#!/usr/bin/python3
# -*- coding: utf-8 -*-
# @Software: PythonDemo1
# @File: py_21æ¨¡å—å’ŒåŒ….py
# @Author: xiaohanzhang
# @Data: 2020/9/26

import py_21_test_module
import py_21_test_module as tm
from py_21_test_module import say_hello

import py_21_message

# ------------------------------- æ¨¡å— -------------------------------------
"""
æ¨¡å—çš„å¯¼å…¥ï¼š
import æ¨¡å—1
import æ¨¡å—2

é€šè¿‡ æ¨¡å—å. ä½¿ç”¨æ¨¡å—æä¾›çš„å…¨å±€å˜é‡ã€æ–¹æ³•ã€ç±»
æ¨¡å—å¯¼å…¥æ—¶æŒ‡å®šåˆ«å: import æ¨¡å—1 as æ¨¡å—åˆ«å

å±€éƒ¨å¯¼å…¥from...importï¼š
å¦‚æœå¸Œæœ›ä»ä¸€ä¸ªæ¨¡å—ä¸­å¯¼å…¥éƒ¨åˆ†å·¥å…·ï¼Œå¯ä»¥ä½¿ç”¨from...import çš„æ–¹å¼
import æ¨¡å—åæ˜¯ä¸€æ¬¡æ€§å°†æ¨¡å—ä¸­æ‰€æœ‰å·¥å…·å…¨éƒ¨å¯¼å…¥ï¼Œå¹¶ä¸”é€šè¿‡æ¨¡å—å/åˆ«åè®¿é—®
from æ¨¡å—å1 import å·¥å…·å
å¯¼å…¥ä¹‹åå¯ä»¥ç›´æ¥ä½¿ç”¨æ¨¡å—æä¾›çš„å·¥å…·--å…¨å±€å˜é‡ã€å‡½æ•°ã€ç±»
æ³¨ï¼šå¦‚æœä¸¤ä¸ªæ¨¡å—ï¼Œå­˜åœ¨åŒåçš„å‡½æ•°ï¼Œåå¯¼å…¥æ¨¡å—çš„å‡½æ•°ä¼šè¦†ç›–å…ˆå¯¼å…¥æ¨¡å—çš„å‡½æ•°

ä»æ¨¡å—ä¸­å¯¼å…¥æ‰€æœ‰å·¥å…·(çŸ¥é“)
from...import *
"""

py_21_test_module.say_hello()
tm.say_hi()
say_hello()

# æ¨¡å—è·¯å¾„
print(py_21_test_module.__file__)

"""
åœ¨å¯¼å…¥æ¨¡å—æ–‡ä»¶æ—¶ï¼Œæ–‡ä»¶ä¸­æ‰€æœ‰æ²¡æœ‰ç¼©è¿›çš„ä»£ç éƒ½ä¼šè¢«æ‰§è¡Œä¸€é
__name__ å±æ€§å¯ä»¥åšåˆ°ï¼Œæµ‹è¯•æ¨¡å—çš„ä»£ç åªåœ¨æµ‹è¯•æƒ…å†µä¸‹è¢«è¿è¡Œï¼Œè€Œåœ¨è¢«å¯¼å…¥æ—¶ä¸ä¼šæ‰§è¡Œ
__name__æ˜¯pythonçš„å†…ç½®å±æ€§ï¼Œè®°å½•ç€ä¸€ä¸ªå­—ç¬¦ä¸²
å¦‚æœæ˜¯è¢«å…¶å®ƒæ–‡ä»¶å¯¼å…¥çš„ï¼Œ__name__å°±æ˜¯æ–‡ä»¶å
"""
print(py_21_test_module.__name__)  # py_17_testModule
print(__name__)  # __main__

"""
# å¯¼å…¥æ¨¡å—
# å®šä¹‰å…¨å±€å˜é‡
# å®šä¹‰ç±»
# å®šä¹‰å‡½æ•°

# åœ¨ä»£ç æœ€ä¸‹æ–¹
def main():
    pass

# æ ¹æ®__name__åˆ¤æ–­ æ˜¯å¦æ‰§è¡Œä¸‹é¢çš„æ–¹æ³•
if __name__ == "__main__":
    main()
"""

# ------------------------------- æ¨¡å— allåˆ—è¡¨ -------------------------------------
"""
å¦‚æœä¸€ä¸ªæ¨¡å—ä¸­æœ‰__all__å˜é‡ï¼Œå½“ä½¿ç”¨from xxx import *å¯¼å…¥æ—¶ï¼Œåªèƒ½å¯¼å…¥è¿™ä¸ªåˆ—è¡¨ä¸­çš„å…ƒç´ ã€‚
test_moduleæ¨¡å—ä¸­ä»£ç ï¼š
__all__ = ['testA']
def testA():
    print('testA')

def testB():
    print('testB')
ä½¿ç”¨from test_module import *å¯¼å…¥æ—¶ï¼Œåªèƒ½å¯¼å…¥testA(),è€Œæ— æ³•å¯¼å…¥testB().
"""


# ------------------------------- åŒ… -------------------------------------
"""
åŒ…æ˜¯ä¸€ä¸ªåŒ…å«äº†å¤šä¸ªæ¨¡å—çš„ç‰¹æ®Šç›®å½•
ç›®å½•ä¸‹æœ‰ä¸€ä¸ªç‰¹æ®Šæ–‡ä»¶ __init__.py
åŒ…åçš„å‘½åæ–¹å¼ä¸å˜é‡åä¸€è‡´ï¼Œå°å†™å­—æ¯+_
ä½¿ç”¨ import åŒ…å å¯ä»¥ä¸€æ¬¡æ€§å¯¼å…¥åŒ…ä¸­çš„æ‰€æœ‰æ¨¡å—

__init_.py
è¦åœ¨å¤–ç•Œä½¿ç”¨åŒ…ä¸­çš„æ¨¡å—ï¼Œéœ€è¦åœ¨__init_.pyä¸­æŒ‡å®šå¯¹å¤–ç•Œæä¾›çš„æ¨¡å—åˆ—è¡¨
from py_21_message import py_17_send_message
from py_21_message import py_17_receive_message
"""
py_21_message.py_21_send_message.send("ä½ æ˜¯ğŸ·å—")
txt = py_21_message.py_21_receive_message.receive()
print(txt)

# ------------------------------- å‘å¸ƒæ¨¡å—(çŸ¥é“) -------------------------------------
"""
æ­¥éª¤ï¼š
1.åˆ›å»ºsetup.pyæ–‡ä»¶
from distutils.core import setup

setup(name="xh_message",    # åŒ…å
      version="1.0.0",      # ç‰ˆæœ¬å·
      description="å‘é€å’Œæ¥æ”¶æ¶ˆæ¯æ¨¡å—",  # æè¿°ä¿¡æ¯
      long_description="å®Œæ•´çš„å‘é€å’Œæ¥æ”¶æ¶ˆæ¯æ¨¡å—", # å®Œæ•´çš„æè¿°ä¿¡æ¯
      author="xiaohan",     # ä½œè€…
      author_email="xiaohan@gamil.com",  # ä½œè€…é‚®ç®±
      url="www.xiaohan.com",    # ä¸»é¡µ
      py_21_message=["py_21_message.py_17_send_message", "py_21_message.py_17_receive_message"]) # æ¨¡å—ä¸­åŒ…å«çš„æ–‡ä»¶åç§°

2.æ„å»ºæ¨¡å—
ç»ˆç«¯ï¼š$ python3 setup.py build

3.ç”Ÿæˆå‘å¸ƒå‹ç¼©åŒ…
ç»ˆç«¯ï¼š$ python3 setup.py sdist


å®‰è£…æ¨¡å—
$ tar -zxvf py_21_message-1.0.0.tar.gz
$ sudo python3 setup.py install

å¸è½½æ¨¡å—
ç›´æ¥ä»å®‰è£…ç›®å½•å°†æ¨¡å—ç›®å½•åˆ é™¤å³å¯
$ cd /usr/local/lib/python3/dist-packages/
$ sudo rm -r py_21_message*
å¯ä»¥é€šè¿‡__file__å†…ç½®å±æ€§è·å–æ¨¡å—æ‰€åœ¨è·¯å¾„
$ ipython3
$ import py_21_message
$ py_21_message.__file__
"""